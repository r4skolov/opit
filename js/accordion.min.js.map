{"version":3,"file":"accordion.min.js","mappings":"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","sources":["webpack:///./source/js/accordion.js"],"sourcesContent":["const CLASS_WRAP        = 'js-accordion-wrap';\r\nconst CLASS_ACCORDION   = 'js-accordion';\r\nconst CLASS_HEAD        = 'js-accordion-head';\r\nconst CLASS_OPENER      = 'js-accordion-open';\r\nconst CLASS_CONTENT     = 'js-accordion-content';\r\nconst CLASS_DESCRIPTION = 'js-accordion-descr';\r\nconst CLASS_OPEN        = 'js-open';\r\n\r\nconst CLASS_ACTIVE = 'active';\r\n\r\nfunction initAccordion() {\r\n\tconst accordionList = document.querySelectorAll(`.${CLASS_ACCORDION}`);\r\n\tconst openList      = document.querySelectorAll(`.${CLASS_ACCORDION}.${CLASS_OPEN}`);\r\n\r\n\tif (accordionList.length) {\r\n\t\taccordionList.forEach((accordion) => {\r\n\t\t\tconst wrap = accordion.closest(`.${CLASS_WRAP}`);\r\n\t\t\tconst open = accordion.querySelector(`.${CLASS_OPENER}`);\r\n\r\n\t\t\topen.addEventListener('click', (e) => {\r\n\t\t\t\tconst { target } = e;\r\n\t\t\t\tconst btn      = target.closest(`.${CLASS_OPENER}`);\r\n\t\t\t\tconst head     = target.closest(`.${CLASS_HEAD}`);\r\n\t\t\t\tconst trigger  = head || btn;\r\n\r\n\t\t\t\tif (wrap && wrap.getAttribute('data-only') != undefined) {\r\n\t\t\t\t\tconst group     = wrap.querySelector(`.${CLASS_ACCORDION}`).getAttribute('data-group');\r\n\t\t\t\t\tlet contentList = [];\r\n\r\n\t\t\t\t\tif (group) {\r\n\t\t\t\t\t\tconst currentAccordionList = wrap.querySelectorAll(`[data-group=\"${group}\"]`);\r\n\t\t\t\t\t\tcurrentAccordionList.forEach((accordion) => {\r\n\t\t\t\t\t\t\tcontentList.push(accordion.querySelector(`.${CLASS_CONTENT}`));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontentList = wrap.querySelectorAll(`.${CLASS_CONTENT}`);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tshowAccordion(trigger, contentList, false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshowAccordion(trigger);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tresize();\r\n\t}\r\n\r\n\tif (openList.length) {\r\n\t\tclickAccordion(openList);\r\n\t}\r\n\r\n\tfunction getDesctiptionHeight(currentAccordion) {\r\n\t\tconst description   = currentAccordion.querySelector(`.${CLASS_DESCRIPTION}`);\r\n\t\tconst height        = description.offsetHeight;\r\n\t\tconst computedStyle = window.getComputedStyle(description);\r\n\t\tconst marginTop     = +computedStyle.marginTop.replace('px', '');\r\n\t\tconst marginBottom  = +computedStyle.marginBottom.replace('px', '');\r\n\r\n\t\treturn height + marginTop + marginBottom;\r\n\t}\r\n\r\n\tfunction showAccordion(head, contentAccordion = [], all = true) {\r\n\t\tconst currentContent = head.nextElementSibling;\r\n\t\tconst parent         = currentContent.closest(`.${CLASS_ACCORDION}`);\r\n\r\n\t\tif (head.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\thead.classList.remove(CLASS_ACTIVE);\r\n\t\t\tparent.classList.remove(CLASS_ACTIVE);\r\n\t\t\tcurrentContent.style.maxHeight = '0';\r\n\t\t} else {\r\n\t\t\tif (!all && contentAccordion.length) {\r\n\t\t\t\tcontentAccordion.forEach((content) => {\r\n\t\t\t\t\tcontent.previousElementSibling.classList.remove(CLASS_ACTIVE);\r\n\t\t\t\t\tcontent.style.maxHeight = '0';\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst heightDescription = getDesctiptionHeight(currentContent);\r\n\r\n\t\t\tlet parentDescription;\r\n\r\n\t\t\tlet paretnContent;\r\n\r\n\t\t\tfunction changeParent(el) {\r\n\t\t\t\tparentDescription = el.closest(`.${CLASS_DESCRIPTION}`);\r\n\r\n\t\t\t\tif (parentDescription) {\r\n\t\t\t\t\tparetnContent = parentDescription.closest(`.${CLASS_CONTENT}`);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparetnContent = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchangeParent(currentContent);\r\n\r\n\t\t\tif (paretnContent) {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tconst oldHeight               = paretnContent.scrollHeight;\r\n\t\t\t\t\tparetnContent.style.maxHeight = `${oldHeight + heightDescription}px`;\r\n\r\n\t\t\t\t\tchangeParent(paretnContent);\r\n\t\t\t\t} while (paretnContent);\r\n\t\t\t}\r\n\r\n\t\t\thead.classList.add(CLASS_ACTIVE);\r\n\t\t\tparent.classList.add(CLASS_ACTIVE);\r\n\t\t\tcurrentContent.style.maxHeight = `${heightDescription}px`;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateResize() {\r\n\t\tconst activeAccordions = document.querySelectorAll(`.${CLASS_ACCORDION}.${CLASS_ACTIVE}`);\r\n\t\tconst activeOpeners    = document.querySelectorAll(`.${CLASS_OPENER}.${CLASS_ACTIVE}`);\r\n\t\tconst activeHeads      = document.querySelectorAll(`.${CLASS_HEAD}.${CLASS_ACTIVE}`);\r\n\t\tconst activeContents   = document.querySelectorAll(`.${CLASS_CONTENT}.${CLASS_ACTIVE}`);\r\n\r\n\t\tif (activeOpeners.length) {\r\n\t\t\tactiveOpeners.forEach((el) => el.classList.remove(`.${CLASS_ACTIVE}`));\r\n\t\t}\r\n\t\tif (activeHeads.length) {\r\n\t\t\tactiveHeads.forEach((el) => el.classList.remove(`.${CLASS_ACTIVE}`));\r\n\t\t}\r\n\t\tif (activeContents.length) {\r\n\t\t\tactiveContents.forEach((el) => {\r\n\t\t\t\tel.classList.remove(`.${CLASS_ACTIVE}`);\r\n\t\t\t\tel.style.maxHeight = '0';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (activeAccordions.length) {\r\n\t\t\tactiveAccordions.forEach((el) => el.classList.remove(`.${CLASS_ACTIVE}`));\r\n\r\n\t\t\tclickAccordion(activeAccordions);\r\n\t\t\tclickAccordion(activeAccordions);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction clickAccordion(list) {\r\n\t\tlist.forEach((open) => {\r\n\t\t\tconst btn = open.querySelector(`.${CLASS_OPENER}`);\r\n\r\n\t\t\tif (btn) {\r\n\t\t\t\tbtn.click();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction resize() {\r\n\t\tlet changed = false;\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tif (changed !== false) {\r\n\t\t\t\tclearTimeout(changed);\r\n\t\t\t}\r\n\r\n\t\t\tchanged = setTimeout(updateResize, 200);\r\n\t\t});\r\n\t}\r\n}\r\n\r\ninitAccordion();\r\n"],"names":["CLASS_ACCORDION","CLASS_HEAD","CLASS_OPENER","CLASS_CONTENT","CLASS_DESCRIPTION","CLASS_ACTIVE","accordionList","document","querySelectorAll","openList","getDesctiptionHeight","currentAccordion","description","querySelector","height","offsetHeight","computedStyle","window","getComputedStyle","marginTop","replace","marginBottom","showAccordion","head","contentAccordion","all","currentContent","nextElementSibling","parent","closest","classList","contains","remove","style","maxHeight","length","forEach","content","previousElementSibling","heightDescription","parentDescription","paretnContent","changeParent","el","oldHeight","scrollHeight","add","updateResize","activeAccordions","activeOpeners","activeHeads","activeContents","clickAccordion","list","open","btn","click","accordion","wrap","addEventListener","e","target","trigger","undefined","getAttribute","group","contentList","push","changed","clearTimeout","setTimeout","resize","initAccordion"],"sourceRoot":""}