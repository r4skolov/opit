{"version":3,"file":"accordion.js","mappings":"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","sources":["webpack:///./source/js/accordion.js"],"sourcesContent":["const CLASS_WRAP        = 'js-accordion-wrap';\r\nconst CLASS_ACCORDION   = 'js-accordion';\r\nconst CLASS_HEAD        = 'js-accordion-head';\r\nconst CLASS_OPENER      = 'js-accordion-open';\r\nconst CLASS_CONTENT     = 'js-accordion-content';\r\nconst CLASS_DESCRIPTION = 'js-accordion-descr';\r\nconst CLASS_OPEN        = 'js-open';\r\n\r\nconst CLASS_ACTIVE = 'active';\r\n\r\nfunction initAccordion() {\r\n\tconst accordionList = document.querySelectorAll(`.${CLASS_ACCORDION}`);\r\n\tconst openList      = document.querySelectorAll(`.${CLASS_ACCORDION}.${CLASS_OPEN}`);\r\n\r\n\tif (accordionList.length) {\r\n\t\taccordionList.forEach((accordion) => {\r\n\t\t\tconst wrap = accordion.closest(`.${CLASS_WRAP}`);\r\n\t\t\tconst open = accordion.querySelector(`.${CLASS_OPENER}`);\r\n\r\n\t\t\topen.addEventListener('click', (e) => {\r\n\t\t\t\tconst { target } = e;\r\n\t\t\t\tconst btn      = target.closest(`.${CLASS_OPENER}`);\r\n\t\t\t\tconst head     = target.closest(`.${CLASS_HEAD}`);\r\n\t\t\t\tconst trigger  = head || btn;\r\n\r\n\t\t\t\tif (wrap && wrap.getAttribute('data-only') != undefined) {\r\n\t\t\t\t\tconst group     = wrap.querySelector(`.${CLASS_ACCORDION}`).getAttribute('data-group');\r\n\t\t\t\t\tlet contentList = [];\r\n\r\n\t\t\t\t\tif (group) {\r\n\t\t\t\t\t\tconst currentAccordionList = wrap.querySelectorAll(`[data-group=\"${group}\"]`);\r\n\t\t\t\t\t\tcurrentAccordionList.forEach((accordion) => {\r\n\t\t\t\t\t\t\tcontentList.push(accordion.querySelector(`.${CLASS_CONTENT}`));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontentList = wrap.querySelectorAll(`.${CLASS_CONTENT}`);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tshowAccordion(trigger, contentList, false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshowAccordion(trigger);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tresize();\r\n\t}\r\n\r\n\tif (openList.length) {\r\n\t\tclickAccordion(openList);\r\n\t}\r\n\r\n\tfunction getDesctiptionHeight(currentAccordion) {\r\n\t\tconst description   = currentAccordion.querySelector(`.${CLASS_DESCRIPTION}`);\r\n\t\tconst height        = description.offsetHeight;\r\n\t\tconst computedStyle = window.getComputedStyle(description);\r\n\t\tconst marginTop     = +computedStyle.marginTop.replace('px', '');\r\n\t\tconst marginBottom  = +computedStyle.marginBottom.replace('px', '');\r\n\r\n\t\treturn height + marginTop + marginBottom;\r\n\t}\r\n\r\n\tfunction showAccordion(head, contentAccordion = [], all = true) {\r\n\t\tconst currentContent = head.nextElementSibling;\r\n\t\tconst parent         = currentContent.closest(`.${CLASS_ACCORDION}`);\r\n\r\n\t\tif (head.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\thead.classList.remove(CLASS_ACTIVE);\r\n\t\t\tparent.classList.remove(CLASS_ACTIVE);\r\n\t\t\tcurrentContent.style.maxHeight = '0';\r\n\t\t} else {\r\n\t\t\tif (!all && contentAccordion.length) {\r\n\t\t\t\tcontentAccordion.forEach((content) => {\r\n\t\t\t\t\tcontent.previousElementSibling.classList.remove(CLASS_ACTIVE);\r\n\t\t\t\t\tcontent.style.maxHeight = '0';\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst heightDescription = getDesctiptionHeight(currentContent);\r\n\r\n\t\t\tlet parentDescription;\r\n\r\n\t\t\tlet paretnContent;\r\n\r\n\t\t\tfunction changeParent(el) {\r\n\t\t\t\tparentDescription = el.closest(`.${CLASS_DESCRIPTION}`);\r\n\r\n\t\t\t\tif (parentDescription) {\r\n\t\t\t\t\tparetnContent = parentDescription.closest(`.${CLASS_CONTENT}`);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparetnContent = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchangeParent(currentContent);\r\n\r\n\t\t\tif (paretnContent) {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tconst oldHeight               = paretnContent.scrollHeight;\r\n\t\t\t\t\tparetnContent.style.maxHeight = `${oldHeight + heightDescription}px`;\r\n\r\n\t\t\t\t\tchangeParent(paretnContent);\r\n\t\t\t\t} while (paretnContent);\r\n\t\t\t}\r\n\r\n\t\t\thead.classList.add(CLASS_ACTIVE);\r\n\t\t\tparent.classList.add(CLASS_ACTIVE);\r\n\t\t\tcurrentContent.style.maxHeight = `${heightDescription}px`;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateResize() {\r\n\t\tconst activeAccordions = document.querySelectorAll(`.${CLASS_ACCORDION}.${CLASS_ACTIVE}`);\r\n\t\tconst activeOpeners    = document.querySelectorAll(`.${CLASS_OPENER}.${CLASS_ACTIVE}`);\r\n\t\tconst activeHeads      = document.querySelectorAll(`.${CLASS_HEAD}.${CLASS_ACTIVE}`);\r\n\t\tconst activeContents   = document.querySelectorAll(`.${CLASS_CONTENT}.${CLASS_ACTIVE}`);\r\n\r\n\t\tif (activeOpeners.length) {\r\n\t\t\tactiveOpeners.forEach((el) => el.classList.remove(`.${CLASS_ACTIVE}`));\r\n\t\t}\r\n\t\tif (activeHeads.length) {\r\n\t\t\tactiveHeads.forEach((el) => el.classList.remove(`.${CLASS_ACTIVE}`));\r\n\t\t}\r\n\t\tif (activeContents.length) {\r\n\t\t\tactiveContents.forEach((el) => {\r\n\t\t\t\tel.classList.remove(`.${CLASS_ACTIVE}`);\r\n\t\t\t\tel.style.maxHeight = '0';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (activeAccordions.length) {\r\n\t\t\tactiveAccordions.forEach((el) => el.classList.remove(`.${CLASS_ACTIVE}`));\r\n\r\n\t\t\tclickAccordion(activeAccordions);\r\n\t\t\tclickAccordion(activeAccordions);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction clickAccordion(list) {\r\n\t\tlist.forEach((open) => {\r\n\t\t\tconst btn = open.querySelector(`.${CLASS_OPENER}`);\r\n\r\n\t\t\tif (btn) {\r\n\t\t\t\tbtn.click();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction resize() {\r\n\t\tlet changed = false;\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tif (changed !== false) {\r\n\t\t\t\tclearTimeout(changed);\r\n\t\t\t}\r\n\r\n\t\t\tchanged = setTimeout(updateResize, 200);\r\n\t\t});\r\n\t}\r\n}\r\n\r\ninitAccordion();\r\n"],"names":["CLASS_WRAP","CLASS_ACCORDION","CLASS_HEAD","CLASS_OPENER","CLASS_CONTENT","CLASS_DESCRIPTION","CLASS_OPEN","CLASS_ACTIVE","initAccordion","accordionList","document","querySelectorAll","openList","length","forEach","accordion","wrap","closest","open","querySelector","addEventListener","e","target","btn","head","trigger","getAttribute","undefined","group","contentList","currentAccordionList","push","showAccordion","resize","clickAccordion","getDesctiptionHeight","currentAccordion","description","height","offsetHeight","computedStyle","window","getComputedStyle","marginTop","replace","marginBottom","contentAccordion","all","currentContent","nextElementSibling","parent","classList","contains","remove","style","maxHeight","content","previousElementSibling","heightDescription","parentDescription","paretnContent","changeParent","el","oldHeight","scrollHeight","add","updateResize","activeAccordions","activeOpeners","activeHeads","activeContents","list","click","changed","clearTimeout","setTimeout"],"sourceRoot":""}